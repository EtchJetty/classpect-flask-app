{% extends "layout.html" %} {% block title %}{{ sitetitle }}{% endblock %} {%
block head %} {{ super() }} {% endblock %} {% block content %}
<div class="container">
<div class="row">
    <div class="col-md-3"></div>
      <div class="col-md-6">
          <div class="row">
            <h1>ERIJAN CENTRAL</h1>
            <h4>Classpect of the Day for {{ display.date }}</h4>
          </div>
          <div class="row">
            <div class="col">
              <div
                class="card card-cover h-100 overflow-hidden text-white bg-dark rounded-5 shadow-lg"
              >
                <div class="d-flex flex-column h-100 p-5 pb-3 text-shadow-1">
                  <h2 class="display-6 lh-1 fw-bold">
                    {{display.classpect.0.name}} of {{display.classpect.1.name}}
                  </h2>
                </div>
              </div>
            </div>
          </div>
              <div class="alert alert-primary alert-dismissible fade show" role="alert">
                New Classpect in <span id="cdown"><div class="spinner-border spinner-border-sm" role="status">
          <span class="visually-hidden">Loading...</span>
        </div></span>!
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                  aria-label="Close"
                ></button>
              </div>
      </div>
    <div class="col-md-3"></div>
</div>
</div>

<script>
  // Set the date we're counting down to
  var countDownDate = new Date();
  countDownDate.setHours(24, 0, 0, 0);

  // Update the count down every 1 second
  var x = setInterval(function () {
    // Get today's date and time
    var now = new Date().getTime();

    // Find the distance between now and the count down date
    var distance = countDownDate - now;

    // Time calculations for days, hours, minutes and seconds
    var hours = String(
      Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))
    ).padStart(2, "0");
    var minutes = String(
      Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))
    ).padStart(2, "0");
    var seconds = String(Math.floor((distance % (1000 * 60)) / 1000)).padStart(
      2,
      "0"
    );

    // Display the result in the element with id="demo"
    document.getElementById("cdown").innerHTML ="<strong>" + 
      hours + ":" + minutes + ":" + seconds + "</strong>";

    // If the count down is finished, write some text
    if (distance < 0) {
      clearInterval(x);
      document.getElementById("cdown").innerHTML = "Refresh the page!";
    }
  }, 1000);
</script>
{% endblock %}
